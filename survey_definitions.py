from typing import Dict, List

class SurveyDefinition:
    def __init__(self, name: str, trigger_phrases: List[str], airtable_table_id: str, questions: List[Dict]):
        self.name = name
        self.trigger_phrases = trigger_phrases
        self.airtable_table_id = airtable_table_id
        self.questions = questions

# שאלון מחקר שוק
RESEARCH_SURVEY = SurveyDefinition(
    name="research_survey",
    trigger_phrases=[
        "שאלון מחקר",
        "מחקר שוק",
        "שאלון אתגרים",
        "להשתתף במחקר",
        "מחקר עסקי",
        "שאלון לעסקים"
    ],
    airtable_table_id="tblho5wUHcU8bGJWU",  # יש להחליף למזהה הנכון
    questions=[
        {
            "id": "שם מלא",
            "type": "text",
            "text": """*תודה שהקדשת מזמנך!* 🙏
התשובות שלך יעזרו לי ללמוד ולהבין את האתגרים המרכזיים של עסקים כמוך. 🎯
*אשמח להעניק לך פגישת אפיון עסקי במתנה* 🎁
                
לפני שנתחיל, *איך אוכל לפנות אליך?* 👋"""
        },
        {            
            "id": "מידע כללי על העסק",
            "type": "text",
            "text": """1️⃣ אשמח לשמוע על העסק שלך 🏢
(תחום עיסוק עיקרי , מספר עובדים , ותק  וכו')
                
*לאורך כל השיחה אפשר להקליד ⌨️ או להקליט 🎤 (ה- AI🤖 שלנו יפענח את ההקלטה😊)!*"""
        },
        {
            "id": "אתגרים משמעותיים",
            "type": "text",
            "text": "2️⃣ מה הם האתגרים המשמעותיים שלך בעסק? 🤔 💭"
        },
        {
            "id": "תחומים לחיזוק",
            "type": "poll",
            "text": "3️⃣ באילו תחומים את/ה מרגיש/ה צורך בחיזוק? 💪",
            "options": [
                "ניהול זמן ומשימות ⏳",
                "שיווק ומכירות 📈",
                "שירות לקוחות 💬",
                "תפעול ותהליכים פנימיים ⚙️",
                "ניהול כספים 💰",
                "אחר ✍️"
            ],
            "multipleAnswers": True
        },
        {
            "id": "פעולות שגוזלות זמן",
            "type": "text",
            "text": "4️⃣ אילו פעולות שוטפות גוזלות לך הכי הרבה זמן? ⌛\n(למשל: תזכורות ללקוחות 📱, הפקת חשבוניות 📄, תיאומי פגישות 📅, דיווחי שעות ⏰ וכו')"
        },
        {
            "id": "זמן במשימות חוזרות",
            "type": "poll",
            "text": "5️⃣ כמה זמן את/ה משקיע/ה במשימות שחוזרות על עצמן? ⌛",
            "options": [
                "פחות משעה בשבוע ⚡",
                "1–5 שעות בשבוע ⏱️",
                "מעל 5 שעות בשבוע ⏰"
            ],
            "multipleAnswers": False
        },
        {
            "id": "פתיחות לאוטומציה",
            "type": "poll",
            "text": "6️⃣ האם את/ה פתוח/ה לאמץ פתרונות אוטומציה שיכולים לייעל את העבודה? 🤖",
            "options": [
                "כן ✅",
                "לא ❌",
                "אולי, תלוי במחיר ובערך 💭"
            ],
            "multipleAnswers": False
        },
        {
            "id": "מידע נוסף",
            "type": "text",
            "text": "7️⃣ יש משהו נוסף שתרצה/י לשתף על האתגרים או השאיפות שלך בעסק? 📝 💭"
        }
    ]
)

# שאלון אפיון עסקי
BUSINESS_SURVEY = SurveyDefinition(
    name="business_survey",
    trigger_phrases=[
        "שאלון אפיון",
        "אשמח להתחיל את שאלון האפיון 😊",
        "אפיון",
        "להתחיל שאלון",
        "התחל שאלון",
        "אפיון עסקי",
        "שאלון אפיון עסקי"
    ],
    airtable_table_id="tbloFfjqiznQ13LHs",  # יש להחליף למזהה הנכון
    questions=[
        {
            "id": "שם מלא",
            "type": "text",
            "text": """*ברוכים הבאים לשאלון האפיון שלנו!* 🤝

יחד נגלה את הדרך הנכונה להצמיח את העסק שלך 🚀

*איך אוכל לפנות אליך?* (שם מלא) 👋"""
        },
        {
            "id": "שם העסק",
            "type": "text",
            "text": "מה שם העסק שלך? 🏢"
        },
        {
            "id": "בכללי על העסק",
            "type": "text",
            "text": """אשמח לשמוע על העסק  💼
תחום הפעילות, היקף, מספר עובדים והחזון שמניע אותך קדימה

*אפשר להקליד ⌨️ או להקליט 🎤 (ה-AI 🤖 שלנו יפענח את ההקלטה 😊)*"""
        },
        {
            "id": "יעדים לשנה הקרובה",
            "type": "text",
            "text": "מהם היעדים המרכזיים שלך לשנה הקרובה, ומה מקשה עליך להשיג אותם? 🎯"
        },
        {
            "id": "תהליכי עבודה וכלים",
            "type": "text",
            "text": """מה שגרת העבודה שלך? ⚡
מהם התהליכים המרכזיים המתרחשים בעסק?"""
        },
        {
            "id": "תהליכים גוזלי זמן",
            "type": "text",
            "text": """אילו תהליכים בעסק גוזלים את הזמן היקר ביותר או דורשים מעקב ידני מתמיד? ⏳
(למשל: הפקת דוחות, תיאומי פגישות, מעקב תשלומים)"""
        },
        {
            "id": "ניהול קשר לקוחות",
            "type": "text",
            "text": "איך מתנהל הקשר עם הלקוחות שלך לאורך מסע הלקוח, ואיפה ומה ניתן לשפר? 🤝"
        },
        {
            "id": "מפתח לחוויית לקוח",
            "type": "text",
            "text": "מה המפתח לחוויית לקוח מוצלחת בעיניך? 💫"
        },
        {
            "id": "מערכות נדרשות",
            "type": "text",
            "text": """האם יש תוכנות או כלים דיגיטליים בשימוש היום בעסק? 
מה התקציב החודשי להשקעה בפתרונות טכנולוגיים? 💰"""
        },
        {
            "id": "הגדרת הצלחה",
            "type": "text",
            "text": """איך נדע שהפתרון שנבנה  עובד טוב? מה השינויים שהיית רוצה לראות בעסק? 📈
(למשל: פחות זמן על ניירת, יותר זמן עם משפחה, פחות טעויות בהזמנות)"""
        },
        {
            "id": "דגשים לתהליך",
            "type": "text",
            "text": "מה הדבר שהכי חשוב לך בתהליך העבודה איתי? 🎯"
        },
        {
            "id": "הערות נוספות",
            "type": "text",
            "text": "יש משהו נוסף שחשוב לך שאדע או שנתייחס אליו? 💭"
        }
    ]
)

# שאלון שביעות רצון
SATISFACTION_SURVEY = SurveyDefinition(
    name="satisfaction_survey",
    trigger_phrases=[
        "שאלון משוב",
        "סקר שביעות רצון",
        "משוב",
        "שביעות רצון",
        "להשאיר משוב",
        "רוצה לתת משוב"
    ],
    airtable_table_id="YOUR_SATISFACTION_SURVEY_TABLE_ID",  # יש להחליף למזהה הנכון
    questions=[
        {
            "id": "שם מלא",
            "type": "text",
            "text": """*תודה שבחרת לשתף אותנו במשוב שלך!* 🙏

*איך נוכל לפנות אליך?* (שם מלא) 👋"""
        },
        {
            "id": "שביעות רצון כללית",
            "type": "poll",
            "text": "עד כמה היית מרוצה מהשירות שקיבלת? 🌟",
            "options": ["😍 מצוין", "😊 טוב", "😐 סביר", "😕 לא מרוצה", "😢 גרוע"],
            "multipleAnswers": False
        },
        {
            "id": "המלצה לאחרים",
            "type": "poll",
            "text": "האם תמליץ/י על השירות שלנו לאחרים? 🤝",
            "options": ["בהחלט כן!", "כנראה שכן", "אולי", "כנראה שלא", "בהחלט לא"],
            "multipleAnswers": False
        },
        {
            "id": "תחומי שיפור",
            "type": "poll",
            "text": "באילו תחומים לדעתך אנחנו יכולים להשתפר? (ניתן לבחור מספר אפשרויות) 🎯",
            "options": ["איכות השירות", "זמני תגובה", "מקצועיות", "תקשורת", "מחיר", "אחר"],
            "multipleAnswers": True
        },
        {
            "id": "פירוט נוסף",
            "type": "text",
            "text": """נשמח לשמוע פירוט נוסף על חווית השירות שלך 💭
ניתן להקליד ⌨️ או להקליט 🎤 את התשובה"""
        }
    ]
)

# רשימת כל השאלונים הזמינים
AVAILABLE_SURVEYS = [
    BUSINESS_SURVEY,
    SATISFACTION_SURVEY,
    RESEARCH_SURVEY
] 
